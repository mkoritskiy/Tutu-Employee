# Keycloak Configuration Example
# Скопируйте этот файл в keycloak-config.env и настройте под ваш сервер

# ===========================================
# DEVELOPMENT CONFIGURATION
# ===========================================

# Keycloak Server URL (без trailing slash)
KEYCLOAK_SERVER_URL=http://localhost:8080

# Realm name
KEYCLOAK_REALM=tutu

# Client ID
KEYCLOAK_CLIENT_ID=tutu-employee-app

# Client Secret (null для public clients)
KEYCLOAK_CLIENT_SECRET=

# Redirect URI
KEYCLOAK_REDIRECT_URI=tutuemployee://oauth/callback

# ===========================================
# PRODUCTION CONFIGURATION (EXAMPLE)
# ===========================================

# Keycloak Server URL (HTTPS обязателен!)
# KEYCLOAK_SERVER_URL=https://auth.tutu.ru

# Realm name
# KEYCLOAK_REALM=tutu-production

# Client ID
# KEYCLOAK_CLIENT_ID=tutu-employee-mobile

# Client Secret (для confidential clients)
# KEYCLOAK_CLIENT_SECRET=your-secret-key-here

# Redirect URI (deep link для мобильных приложений)
# KEYCLOAK_REDIRECT_URI=ru.tutu.employee://oauth/callback

# ===========================================
# ADDITIONAL SETTINGS
# ===========================================

# Enable/Disable Keycloak
USE_KEYCLOAK=true

# Token refresh buffer (seconds)
TOKEN_REFRESH_BUFFER=60

# Request timeout (milliseconds)
HTTP_TIMEOUT=30000

# ===========================================
# ПРИМЕЧАНИЯ
# ===========================================

# 1. Для production ВСЕГДА используйте HTTPS
# 2. Для public clients (мобильные/веб) установите CLIENT_SECRET пустым
# 3. Для confidential clients укажите CLIENT_SECRET
# 4. Убедитесь, что REDIRECT_URI добавлен в Keycloak Client настройках
# 5. Не коммитьте этот файл с реальными секретами в git!

# ===========================================
# KEYCLOAK CLIENT НАСТРОЙКИ
# ===========================================

# В Keycloak Admin Console настройте:
# 
# Client Authentication: OFF (для public clients)
# Authorization: OFF (если не используете fine-grained authorization)
# 
# Standard Flow Enabled: ON
# Direct Access Grants Enabled: ON (только для development!)
# Implicit Flow Enabled: OFF
# Service Accounts Enabled: OFF (только для service-to-service)
# 
# Valid Redirect URIs:
#   - http://localhost:*        (для development)
#   - tutuemployee://oauth/callback
#   - ru.tutu.employee://oauth/callback
#   - https://your-app.com/*
# 
# Valid Post Logout Redirect URIs:
#   - http://localhost:*
#   - tutuemployee://logout
#   - https://your-app.com/*
# 
# Web Origins:
#   - * (для development)
#   - https://your-app.com (для production)

# ===========================================
# PLATFORM SPECIFIC
# ===========================================

# Android
# Deep Link: tutuemployee://oauth/callback
# Package: ru.tutu.tutuemployee

# iOS
# URL Scheme: tutuemployee
# Bundle ID: ru.tutu.tutuemployee

# Web
# Redirect: https://your-app.com/auth/callback
# Origins: https://your-app.com
